<!DOCTYPE html>
<html>
<head>
	<title>
	  
	    Top reasons your CSS columns are messed up
	  
	</title>
	<link rel="shortcut icon" href="http://freqn.aws.af.cm/images/favicon.ico">
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<script src="http://use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov;stencil-std;cabin;shuriken-std.js"></script>

	<script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>
	<link rel="stylesheet" href="/css/base.css" type="text/css" />
	<link rel="stylesheet" href="/css/font-awesome.min.css">
	<link rel="alternate" href="http://freqn.com/feed/" type="application/rss+xml" />

  <script type="text/javascript" src="//use.typekit.net/oih2jiw.js"></script>
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-XXXXXXXX']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
</head>
<body>

  <div class="container">
    <header>
      <ul class="nav">
				<li><a href="/">Home</a></li>
				<li><a href="/blog">Blog</a></li>
				<li><a href="/projects">Projects</a></li>
        <li><a href="/about">About</a></li>
        <li><a href="/contact">Contact</a></li>
      </ul>
    </header>

    <p class="date">May 12, 2008</p>
<h1 class="words">Top reasons your CSS columns are messed up</h1>
<p>I believe the recent surge in popularity of CSS frameworks comes from a lack of basic understanding of the CSS box model and how it&rsquo;s implemented across browsers.  I wanted to share with you some quick tips on how to avoid easy pitfalls so you can create your own CSS framework in no time flat, without all the cruft of having ten thousand column combinations available.  Keeping these quick tips in mind at all times will allow you to do something I like to call <em>defensive coding</em> &ndash; and really that&rsquo;s all CSS frameworks are: defensively coded snippets of CSS.</p>

<h2>Your margins are doubled in IE6</h2>

<div class="figure">
<img src="http://assets.warpspire.com/images/css-column-tricks/ie6doublefloat.gif" />
</div>


<p>Here&rsquo;s a super common pitfall: IE6 will double margins facing the direction of the float.  Example problematic code:</p>

<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.sidebar</span><span class="p">{</span>
  <span class="k">float</span><span class="o">:</span><span class="k">left</span><span class="p">;</span>
  <span class="k">margin-left</span><span class="o">:</span><span class="m">20px</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>


<p>This sidebar will have a 40px left margin in IE6 &ndash; almost certainly throwing the sidebar down below the content, and not next to the content as it should be.  Easy fix: add <code>display:inline;</code>  No side effects in any browser, and IE6 obeys margins perfectly.</p>

<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.sidebar</span><span class="p">{</span>
  <span class="k">float</span><span class="o">:</span><span class="k">left</span><span class="p">;</span>
  <span class="k">margin-left</span><span class="o">:</span><span class="m">20px</span><span class="p">;</span>
  <span class="k">display</span><span class="o">:</span><span class="k">inline</span>
<span class="p">}</span></code></pre></div>


<p><strong>Why it works:</strong> By declaring <code>float</code> on an element, you implicitly demand that it must be rendered as a block element &ndash; thus rendering the <code>display:inline</code> inert.  However, due to IE6&rsquo;s awesome CSS engine, it fixes a bizarre bug that is the #2 reason I see CSS columns fail in IE6.</p>

<h2>Your content is wider than your column</h2>

<div class="figure">
<img src="http://assets.warpspire.com/images/css-column-tricks/extendingcolumns.gif" />
</div>


<p>Let&rsquo;s pretend you&rsquo;ve got this simplistic setup of code:</p>

<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.columns</span><span class="p">{</span>
  <span class="k">width</span><span class="o">:</span><span class="m">500px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.columns</span> <span class="nc">.main</span><span class="p">{</span>
  <span class="k">float</span><span class="o">:</span><span class="k">left</span><span class="p">;</span>
  <span class="k">width</span><span class="o">:</span><span class="m">400px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.columns</span> <span class="nc">.sidebar</span><span class="p">{</span>
  <span class="k">float</span><span class="o">:</span><span class="k">right</span><span class="p">;</span>
  <span class="k">width</span><span class="o">:</span><span class="m">100px</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>


<p>HTML:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;html&gt;</span>
...
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;columns&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;main&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;/images/awesome.gif&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/div&gt;</span><span class="c">&lt;!-- /.main --&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;sidebar&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;p&gt;</span>Sidebar rules!<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;/div&gt;</span><span class="c">&lt;!-- /.sidbear --&gt;</span>
<span class="nt">&lt;/div&gt;</span><span class="c">&lt;!-- /.columns --&gt;</span>
...
<span class="nt">&lt;/html&gt;</span></code></pre></div>


<p>Harmless right? You might view this in Firefox and everything will be fine. But then you look at it in IE6 and your sidebar has mysteriously dissapeared below <code>.main</code>.  WTF? You look at the HTML, the CSS, and everything&rsquo;s fine.  <strong>What could possibly be wrong?</strong>  A common problem here is if <code>awesome.gif</code> is 510px wide.  What this does is push out <code>.main</code> to 510px, and suddenly there&rsquo;s not enough room for <code>.sidebar</code> inside <code>.columns</code> any longer.  Ack!</p>

<p>Easy fix: add <code>overflow:hidden</code> to your columns.  This forces the width restriction to crop any extruding content.  New magical CSS:</p>

<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.columns</span><span class="p">{</span>
  <span class="k">width</span><span class="o">:</span><span class="m">500px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.columns</span> <span class="nc">.main</span><span class="p">{</span>
  <span class="k">float</span><span class="o">:</span><span class="k">left</span><span class="p">;</span>
  <span class="k">width</span><span class="o">:</span><span class="m">400px</span><span class="p">;</span>
  <span class="k">overflow</span><span class="o">:</span><span class="k">hidden</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.columns</span> <span class="nc">.sidebar</span><span class="p">{</span>
  <span class="k">float</span><span class="o">:</span><span class="k">right</span>
  <span class="k">width</span><span class="o">:</span><span class="m">100px</span><span class="p">;</span>
  <span class="k">overflow</span><span class="o">:</span><span class="k">hidden</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>


<h2>Your margins extend past your container</h2>

<div class="figure">
<img src="http://assets.warpspire.com/images/css-column-tricks/negativemargin.gif" />
</div>


<p>So you&rsquo;re building out a simple product listing template out, and you throw it in an unordered list:</p>

<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">ul</span><span class="nc">.listing</span><span class="p">{</span>
  <span class="k">margin</span><span class="o">:</span><span class="m">0</span><span class="p">;</span>
  <span class="k">width</span><span class="o">:</span><span class="m">400px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">ul</span><span class="nc">.listing</span> <span class="nt">li</span><span class="p">{</span>
  <span class="k">list-style-type</span><span class="o">:</span><span class="k">none</span><span class="p">;</span>
  <span class="k">float</span><span class="o">:</span><span class="k">left</span><span class="p">;</span>
  <span class="k">margin</span><span class="o">:</span><span class="m">0</span> <span class="m">20px</span> <span class="m">0</span> <span class="m">0</span><span class="p">;</span>
  <span class="k">width</span><span class="o">:</span><span class="m">85px</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>


<p>HTML:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;html&gt;</span>
...
<span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">&quot;listing&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;li&gt;</span>Product #1<span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;li&gt;</span>Product #2<span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;li&gt;</span>Product #3<span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;li&gt;</span>Product #4<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
...
<span class="nt">&lt;/html&gt;</span></code></pre></div>


<p>This CSS will work just fine in something like Firefox, but for mysterious reasons you&rsquo;ll see that Product #4 appears on it&rsquo;s own line in IE6.  What&rsquo;s happening here? I mean 4 columns x 85px + 3 gaps x 20px = 400px, right? Except that your 4th gap is hanging over the right edge &ndash; pushing the true width of the blocks to 420px.  Firefox is smart and lets that margin just hang out there &ndash; but IE6 will apply that margin within the parent wrapper &ndash; throwing the 4th item down since it takes up 20px more than it should have.</p>

<p>The fix? Apply a left margin to each item, with a negative margin to the wrapper.  This means that every item has a visible margin, but the whole block of elements are yanked back by the negative margin:</p>

<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">ul</span><span class="nc">.listing</span><span class="p">{</span>
  <span class="k">margin</span><span class="o">:</span><span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">-20px</span><span class="p">;</span>
  <span class="k">width</span><span class="o">:</span><span class="m">420px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">ul</span><span class="nc">.listing</span> <span class="nt">li</span><span class="p">{</span>
  <span class="k">list-style-type</span><span class="o">:</span><span class="k">none</span><span class="p">;</span>
  <span class="k">float</span><span class="o">:</span><span class="k">left</span><span class="p">;</span>
  <span class="k">margin</span><span class="o">:</span><span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">20px</span><span class="p">;</span>
  <span class="k">width</span><span class="o">:</span><span class="m">85px</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>


<p>This gets around the nasty solution of adding a class to the first or last item in every row &ndash; something I&rsquo;ve seen with abundance around the web.</p>

<h2>Building a CSS framework in no time</h2>

<p>Wev'e got to start out with some basic HTML.  Here&rsquo;s what I&rsquo;ve been using lately:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;html&gt;</span>
...
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;columns col2&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;column first&quot;</span><span class="nt">&gt;</span>
    ...
  <span class="nt">&lt;/div&gt;</span><span class="c">&lt;!-- /.first --&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;column last&quot;</span><span class="nt">&gt;</span>
    ...
  <span class="nt">&lt;/div&gt;</span><span class="c">&lt;!-- /.last --&gt;</span>
<span class="nt">&lt;/div&gt;</span><span class="c">&lt;!-- /.columns --&gt;</span>
...
<span class="nt">&lt;/html&gt;</span></code></pre></div>


<p>For different column widths, I&rsquo;ve been changing out the <code>col2</code> declaration to things like <code>col2A, col2B, col2C</code> and so on. You could easily give them more semantic names like <code>products-columns</code> too.</p>

<h3>Self clearing is the future</h3>

<p>The first step for any column framework is self-clearing. It&rsquo;s easy, practical, and reduces all those damn clearing divs.</p>

<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.columns</span><span class="nd">:after</span> <span class="p">{</span>
    <span class="k">content</span><span class="o">:</span> <span class="s2">&quot;.&quot;</span><span class="p">;</span>
    <span class="k">display</span><span class="o">:</span> <span class="k">block</span><span class="p">;</span>
    <span class="k">height</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="k">clear</span><span class="o">:</span> <span class="k">both</span><span class="p">;</span>
    <span class="k">visibility</span><span class="o">:</span> <span class="k">hidden</span><span class="p">;</span>
<span class="p">}</span>
<span class="o">*</span> <span class="nt">html</span> <span class="nc">.columns</span> <span class="p">{</span><span class="k">height</span><span class="o">:</span> <span class="m">1%</span><span class="p">;}</span>
<span class="nc">.columns</span><span class="p">{</span> <span class="k">display</span><span class="o">:</span><span class="k">inline</span><span class="o">-</span><span class="k">block</span><span class="p">;</span> <span class="p">}</span>
<span class="nc">.columns</span><span class="p">{</span> <span class="k">display</span><span class="o">:</span><span class="k">block</span><span class="p">;</span> <span class="p">}</span></code></pre></div>


<h3>Float those columns</h3>

<p>Next step is to actually float those columns. So let&rsquo;s add a couple more declarations:</p>

<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.columns</span> <span class="nc">.column</span><span class="p">{</span>
  <span class="k">float</span><span class="o">:</span><span class="k">left</span><span class="p">;</span>
  <span class="k">overflow</span><span class="o">:</span><span class="k">hidden</span><span class="p">;</span>
  <span class="k">display</span><span class="o">:</span><span class="k">inline</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.columns</span> <span class="nc">.last</span><span class="p">{</span> <span class="k">float</span><span class="o">:</span><span class="k">right</span><span class="p">;</span> <span class="p">}</span>

<span class="nc">.col2</span> <span class="nc">.first</span><span class="p">{</span> <span class="k">width</span><span class="o">:</span><span class="m">500px</span><span class="p">;</span> <span class="p">}</span>
<span class="nc">.col2</span> <span class="nc">.last</span><span class="p">{</span> <span class="k">width</span><span class="o">:</span><span class="m">100px</span><span class="p">;</span> <span class="p">}</span>

<span class="nc">.col2A</span> <span class="nc">.first</span><span class="p">{</span> <span class="k">width</span><span class="o">:</span><span class="m">400px</span><span class="p">;</span> <span class="p">}</span>
<span class="nc">.col2B</span> <span class="nc">.last</span><span class="p">{</span> <span class="k">width</span><span class="o">:</span><span class="m">200px</span><span class="p">;</span> <span class="p">}</span>

<span class="nc">.col3</span> <span class="nc">.first</span><span class="p">{</span> <span class="k">width</span><span class="o">:</span><span class="m">100px</span><span class="p">;</span> <span class="p">}</span>
<span class="nc">.col3</span> <span class="nc">.second</span><span class="p">{</span> <span class="k">width</span><span class="o">:</span><span class="m">280px</span><span class="p">;</span> <span class="k">margin-left</span><span class="o">:</span><span class="m">20px</span><span class="p">;</span> <span class="p">}</span>
<span class="nc">.col3</span> <span class="nc">.last</span><span class="p">{</span> <span class="k">width</span><span class="o">:</span><span class="m">200px</span><span class="p">;</span> <span class="p">}</span></code></pre></div>


<h3>Done&hellip; uh, what?</h3>

<p>Oh, yeah. That&rsquo;s it. That&rsquo;s all it takes to create reliable columns in CSS. Really.</p>

<p>Here&rsquo;s an <a href="http://assets.warpspire.com/images/css-column-tricks/example.html">example page</a> to prove it!</p>

<a class="twitter-icon" href="https://twitter.com/intent/tweet?text=&quot;Top reasons your CSS columns are messed up&quot;%20localhost/blog/css-column-tricks%20via%20&#64;freqn"
    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title="Share on Twitter">
    <i class="fa fa-twitter"></i>
</a>
<a class="facebook-icon" href="https://www.facebook.com/sharer/sharer.php?u=localhost/blog/css-column-tricks"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title="Share on Facebook">
                    <i class="fa fa-facebook"></i>
                </a>
                <a class="google-icon" href="https://plus.google.com/share?url=localhost/blog/css-column-tricks"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;" title="Share on Google+">
                    <i class="fa fa-google-plus"></i>
                </a>
<div class="keep-in-touch">
  <p>
    If you'd like to keep in touch, I tweet <a href="https://twitter.com/kneath">@kneath</a> on Twitter. You're also welcome to send a polite email to <a href="mailto:kyle@warpspire.com">kyle@warpspire.com</a>. I don't always get the chance to respond, but email is always the best way to get in touch.
  </p>
  <p class="comments">
Comments on Warpspire are currently an experiment. Please, try to be a good human (or you will be removed).
  </p>
</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'warpspire';
    var disqus_identifier = '/blog/css-column-tricks';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

		<p style="text-align: center;">Copyright &copy; <script type="text/javascript">document.write(new Date().getFullYear())</script> Freqn Labs, All Rights Reserved.</p>

  </div><!-- /.main -->

  <script type="text/javascript" src="/js/fastclick.js"></script>
  <script type="text/javascript">
    window.addEventListener('load', function() {
        new FastClick(document.body);
    }, false);
  </script>

</body>
</html>
