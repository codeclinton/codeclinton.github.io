<!DOCTYPE html>
<html>
<head>
	<title>
	  
	    MooTools Javascript Classes
	  
	</title>
	<link rel="shortcut icon" href="http://freqn.aws.af.cm/images/favicon.ico">
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<script src="http://use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov;stencil-std;cabin;shuriken-std.js"></script>

	<script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>
	<link rel="stylesheet" href="/css/base.css" type="text/css" />
	<link rel="stylesheet" href="/css/font-awesome.min.css">
	<link rel="alternate" href="http://freqn.com/feed/" type="application/rss+xml" />

  <script type="text/javascript" src="//use.typekit.net/oih2jiw.js"></script>
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-XXXXXXXX']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
</head>
<body>

  <div class="container">
    <header>
      <ul class="nav">
				<li><a href="/">Home</a></li>
				<li><a href="/blog">Blog</a></li>
				<li><a href="/projects">Projects</a></li>
        <li><a href="/about">About</a></li>
        <li><a href="/contact">Contact</a></li>
      </ul>
    </header>

    <p class="date">July 16, 2007</p>
<h1 class="words">MooTools Javascript Classes</h1>
<p>One of Javascript&rsquo;s major blunders when it comes to Object-Oriented design is the lack of true classes.  Lucky for us, we&rsquo;ve had every library author out there have their whack at creating a class structure.</p>

<h2>What is a class?</h2>

<p>A class is kind of a template.  One of the big concepts of OO is treating your code as real world objects.  Let&rsquo;s say you want to have three variables for different dogs: ollie, rowdy, and killer.  Each of these variables should be an <em>instance</em> of a <em>class</em>.  That class&rsquo;s name would be Dog. Each particular dog is an instance of the generic Dog class.  I won&rsquo;t go into much more detail here: there&rsquo;s plenty of reading to do on what classes really are, and how to use them best.</p>

<h2>MooTools = &lt;3</h2>

<p>Out of all the class systems I&rsquo;ve used, I&rsquo;d have to say MooTool&rsquo;s class system (spanwed from Dean Edward&rsquo;s Base) is the cleanest, most extensible system yet.  Creating and extending classes is ridiculously easy.</p>

<h3>Create a class</h3>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Animal</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Class</span><span class="p">({</span>
    <span class="nx">initialize</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">text</span> <span class="o">=</span> <span class="s2">&quot;Animal Runs!&quot;</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">run</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">text</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">pet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Animal</span><span class="p">();</span>
<span class="nx">pet</span><span class="p">.</span><span class="nx">run</span><span class="p">();</span>
<span class="c1">// ==&gt; &quot;Animal Runs!&quot;</span></code></pre></div>


<p>(It&rsquo;s also fair to note that MooTools supports Prototype&rsquo;s <code>Class.create</code> method as well)</p>

<h3>Extend a class</h3>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Dog</span> <span class="o">=</span> <span class="nx">Animal</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">initialize</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">parent</span><span class="p">();</span>
    <span class="p">},</span>
    <span class="nx">bark</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">run</span><span class="p">();</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Woof! Woof!&quot;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">pet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dog</span><span class="p">();</span>
<span class="nx">pet</span><span class="p">.</span><span class="nx">bark</span><span class="p">();</span>
<span class="c1">// ==&gt; &quot;Animal Runs!&quot;</span>
<span class="c1">// ==&gt; &quot;Woof! Woof!&quot;</span></code></pre></div>


<p>You&rsquo;ll notice you still get access to parent methods (through <code>this.parent()</code>), as you can see where this.text gets initialized when a new instance of Dog is created.</p>

<p>The syntax is short, sweet, and to the point.  Furthermore it allows me all the flexibility I need&hellip; well, almost.  MooTools team gets bonus points for the next section.</p>

<h2>Javascript mixins&hellip; kinda</h2>

<p>There are two common actions that many Javascript actions have: options, and callbacks.  MooTools have created a sort of ruby-style mixin for classes to handle these functions.  MooTools calls these mixins Utility Classes.  To enable these, add this line to the code above:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">Dog</span><span class="p">.</span><span class="nx">implement</span><span class="p">(</span><span class="k">new</span> <span class="nx">Options</span><span class="p">,</span> <span class="k">new</span> <span class="nx">Events</span><span class="p">);</span></code></pre></div>


<h2>Options</h2>

<p>What does this do?  First off, it allows for quick, easy, extendible options.  All you do is set your default options in an options property, and then call the <code>setOptions</code> method inside your class.  Here&rsquo;s an example:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Dog</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Class</span><span class="p">({</span>
    <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">age</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;Jack Russel Terrier&quot;</span>
    <span class="p">},</span>
    <span class="nx">initialize</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">options</span><span class="p">){</span>
        <span class="c1">// Here&#39;s the magic!</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setOptions</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
    <span class="p">},</span>

    <span class="nx">bark</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;My name is &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot; and I am &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">age</span> <span class="o">+</span> <span class="s2">&quot; years old&quot;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">fireEvent</span><span class="p">(</span><span class="s1">&#39;afterBark&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
<span class="nx">Dog</span><span class="p">.</span><span class="nx">implement</span><span class="p">(</span><span class="k">new</span> <span class="nx">Options</span><span class="p">,</span> <span class="k">new</span> <span class="nx">Events</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">ollie</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dog</span><span class="p">(</span><span class="s1">&#39;Ollie&#39;</span><span class="p">);</span>
<span class="nx">ollie</span><span class="p">.</span><span class="nx">bark</span><span class="p">();</span>
<span class="c1">// ==&gt; &quot;My name is Ollie and I am 5 years old&quot;</span>

<span class="kd">var</span> <span class="nx">rowdy</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dog</span><span class="p">(</span><span class="s1">&#39;Rowdy&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">age</span><span class="o">:</span><span class="mi">15</span><span class="p">});</span>
<span class="nx">rowdy</span><span class="p">.</span><span class="nx">bark</span><span class="p">();</span>
<span class="c1">// ==&gt; &quot;My name is Rowdy and I am 15 years old&quot;</span></code></pre></div>


<p>By mixing in the Options methods, you now have access to setOptions, which either uses user-defined options or class-based defaults (with one line of code).</p>

<h3>Events</h3>

<p>You can also define custom events (usually called callbacks).  Notice the <code>this.fireEvent('afterBark')</code> bit in the Dog class above?  Check it out:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">killer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dog</span><span class="p">(</span><span class="s1">&#39;Killer&#39;</span><span class="p">);</span>
<span class="nx">killer</span><span class="p">.</span><span class="nx">addEvent</span><span class="p">(</span><span class="s1">&#39;afterBark&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">dog</span><span class="p">){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">dog</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39; just barked!&#39;</span><span class="p">);</span>
<span class="p">});</span>
<span class="nx">killer</span><span class="p">.</span><span class="nx">bark</span><span class="p">();</span>
<span class="c1">// ==&gt; &quot;My name is Killer and I am 5 years old&quot;</span>
<span class="c1">// ==&gt; &quot;Killer just barked!&quot;</span></code></pre></div>


<p>It allows you to tie into the <em>same</em> event functionality used for the DOM, but with your own methods you create in your classes. I&rsquo;m in love with this easy functionality &ndash; sure there&rsquo;s been other ways to do this, but none so elegant as what the Moo team has come up with.</p>

<h3>Chain</h3>

<p>The last utility class is the Chain class.  This allows for some nice chaining of classes: I&rsquo;ll leave it up to you to explore this one since I haven&rsquo;t used it in great detail yet.  In a nutshell: it allows for time-dependent chains (so that events fire after another one is complete).</p>

<h2>Conclusion</h2>

<p>Every good Javascript developer knows that there&rsquo;s 50 ways to skin a cat when it comes to classes and Javascript.  But for me, one of the largest reasons MooTools is my framework of choice is the underlying class system.  No extending <code>Object</code>, and no overriding of parent methods.  The syntax is clean and easy to remember, giving it huge bonus points in my book.</p>

<p>Personally, I would like to thank the smarter developers who have taken the hard hits with Javascript to implement these nice OO techniques.  Without them, my Javascript would still be procedural-based with tons of global variables thrown about.  Yay for frameworks!</p>

<a class="twitter-icon" href="https://twitter.com/intent/tweet?text=&quot;MooTools Javascript Classes&quot;%20localhost/blog/mootools-javascript-classes%20via%20&#64;freqn"
    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title="Share on Twitter">
    <i class="fa fa-twitter"></i>
</a>
<a class="facebook-icon" href="https://www.facebook.com/sharer/sharer.php?u=localhost/blog/mootools-javascript-classes"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title="Share on Facebook">
                    <i class="fa fa-facebook"></i>
                </a>
                <a class="google-icon" href="https://plus.google.com/share?url=localhost/blog/mootools-javascript-classes"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;" title="Share on Google+">
                    <i class="fa fa-google-plus"></i>
                </a>
<div class="keep-in-touch">
  <p>
    If you'd like to keep in touch, I tweet <a href="https://twitter.com/kneath">@kneath</a> on Twitter. You're also welcome to send a polite email to <a href="mailto:kyle@warpspire.com">kyle@warpspire.com</a>. I don't always get the chance to respond, but email is always the best way to get in touch.
  </p>
  <p class="comments">
Comments on Warpspire are currently an experiment. Please, try to be a good human (or you will be removed).
  </p>
</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'warpspire';
    var disqus_identifier = '/blog/mootools-javascript-classes';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

		<p style="text-align: center;">Copyright &copy; <script type="text/javascript">document.write(new Date().getFullYear())</script> Freqn Labs, All Rights Reserved.</p>

  </div><!-- /.main -->

  <script type="text/javascript" src="/js/fastclick.js"></script>
  <script type="text/javascript">
    window.addEventListener('load', function() {
        new FastClick(document.body);
    }, false);
  </script>

</body>
</html>
